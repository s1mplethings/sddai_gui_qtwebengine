<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SDDAI Graph Spider</title>
  <link rel="stylesheet" href="./spider_v4.css" />
  <script src="qrc:///qtwebchannel/qwebchannel.js"></script>
</head>
<body>
  <div id="topbar">
    <div class="left">
      <span class="badge">GRAPH</span>
      <span class="title">Spider Web</span>
      <span class="hint">拖拽节点 / 滚轮缩放 / 空白拖动画布 / 单击选中 / 双击或 Ctrl+点击打开</span>
    </div>
    <div class="right">
      <select id="viewSel" title="Select View">
        <option value="All">All</option>
        <option value="Pipeline">Pipeline</option>
        <option value="Docs">Docs</option>
        <option value="Summary">Summary</option>
      </select>
      <label><input id="collapseToggle" type="checkbox" checked title="Collapse directories"/>Collapse Dirs</label>
      <label>Depth: <input id="depth" type="number" min="1" max="6" value="2" style="width:50px" title="Focus expand depth"/></label>
      <input id="search" placeholder="Search node / path..." autocomplete="off" />
      <button id="btnOverview" title="Overview (全局图)">Overview</button>
      <button id="btnFocus" title="Focus on Selected">Focus</button>
      <button id="btnBack" title="Back (Alt+← / Backspace)">Back</button>
      <button id="btnForward" title="Forward (Alt+→)">Forward</button>
      <button id="btnUp" title="Up (parent)">Up</button>
      <button id="btnFit" title="Fit (Home)">Fit</button>
      <button id="btnPause" title="Pause physics (Space)">Pause</button>
      <button id="btnReheat" title="Reheat layout (R)">Reheat</button>
      <button id="btnTogglePanel" title="Toggle Details (Ctrl+\\)">Details</button>
    </div>
  </div>

  <div id="container">
    <div id="graphPane">
      <canvas id="c"></canvas>
      <div id="results" class="results hidden"></div>
      <div id="toast" class="toast hidden">...</div>
    </div>

    <div id="panelResizer" title="Drag to resize"></div>

    <aside id="panel" class="panel">
      <div class="panel-title" id="pTitle">Node</div>
      <div class="panel-sub" id="pSub"></div>

      <div class="panel-actions">
        <button id="btnOpen" title="Open (Enter / dblclick)">Open</button>
        <button id="btnPin" title="Pin/Unpin selected node">Pin</button>
        <button id="btnToggleExpand" title="Toggle expand/collapse directory" style="display:none">Toggle Expand</button>
        <button id="btnDrillDown" title="Drill down to directory" style="display:none">Drill Down</button>
        <button id="btnStartLink" title="Start linking docs">Start Link</button>
        <button id="btnLinkTo" title="Link to selected">Link To</button>
        <button id="btnUnlink" title="Remove link">Unlink</button>
        <button id="btnClose" title="Close (Esc)">Close</button>
      </div>

      <div class="panel-section">
        <div class="panel-section-title">Parent / Breadcrumb</div>
        <div class="panel-bc" id="pBC"></div>
      </div>

      <div class="panel-section">
        <div class="panel-section-title">Children / Neighbors</div>
        <div class="panel-list" id="pKids"></div>
      </div>

      <div class="panel-section" id="pPreviewSection">
        <div class="panel-section-title">Preview</div>
        <div id="pPreview" class="panel-preview hidden">
          <img id="pImg" alt="preview" />
          <canvas id="pOverlay"></canvas>
        </div>
      </div>

      <div class="panel-section">
        <div class="panel-section-title">Meta</div>
        <pre class="panel-meta" id="pMeta"></pre>
      </div>
    </aside>
  </div>

  <script src="./spider_v4.js"></script>
</body>
</html>
